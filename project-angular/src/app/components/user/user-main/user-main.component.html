<div class="container-fluid">
    <div class=" mt-4 col-md-9 mx-auto mb-4">
        <h2>Usuarios</h2>
        <div class=" card  card-body card-green m-4 shadow-sm mx-auto">
            <div class="row col-md-12">
                <div class="col-md-3 mb-3 ">
                    <label for="users">Ciudad</label>
                    <select [(ngModel)]="dataSearch.c" id="cities" class="form-select" class="form-control">
                        <option selected value="0">Seleccione...</option>
                        <option *ngFor="let city of cities" [value]="city.id">{{ city.description }}</option>
                    </select>
                </div>
                <div class="col-md-3 mb-3 ">
                    <label for="users">Nombre usario</label>
                    <input [(ngModel)]="dataSearch.q" type="text" name="q" class="form-control"
                        placeholder="Buscar por nombre">
                </div>
                <div class="col-md-3 mb-3 mt-3">
                    <button (click)="getUsers()" class="btn btm-green mt-3">Buscar<i class="p-1 fas fa-search"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div *ngIf="isLoader">
        <div class="loader-overlay">
            <div class="loader">
                <div class="circle"></div>
            </div>
            <div class="loading-text">Cargando.</div>
        </div>
    </div>

    <div *ngIf="!isLoader" class="table-responsive card card-body">
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Nombre</th>
                    <th>Correo</th>
                    <th>Direccion</th>
                    <th>Telefono</th>
                    <th>Ciudad</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let user of users" [ngClass]="{
                    'highlighted-row ' : user.city.id == 5
                }">
                    <td>{{ user.id }}</td>
                    <td>{{ user.name }}</td>
                    <td>{{ user.email }}</td>
                    <td>{{ user.address }}</td>
                    <td>{{ user.email }}</td>
                    <td>{{ user.city.description }}</td>
                </tr>
            </tbody>
        </table>
        <AppPaginateComponent 
        [currentPage]="currentPage" 
        [lastPage]="lastPage"
        (pageChange)="changePage($event)">
        </AppPaginateComponent>

    </div>
</div>